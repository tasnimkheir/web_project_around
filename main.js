!function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,n(o.key),o)}}function n(t){var n=function(t){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(n)?n:n+""}var r=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.baseUrl=t.baseUrl,this.headers=t.headers},(n=[{key:"getUserInfo",value:function(){return fetch("".concat(this.baseUrl,"/users/me"),{method:"GET",headers:this.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"getInitialCards",value:function(){return fetch("".concat(this.baseUrl,"/cards"),{method:"GET",headers:this.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"addcards",value:function(e){return fetch("".concat(this.baseUrl,"/cards"),{method:"POST",headers:this.headers,body:JSON.stringify({name:e.place,link:e.link})}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"deleteCard",value:function(e){return fetch("".concat(this.baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"addLike",value:function(e){return fetch("".concat(this.baseUrl,"/cards/likes/").concat(e),{method:"PUT",headers:this.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"removeLike",value:function(e){return fetch("".concat(this.baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:this.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"editProfile",value:function(e){return fetch("".concat(this.baseUrl,"/users/me"),{method:"PATCH",headers:this.headers,body:JSON.stringify({name:e.name,about:e.about})}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"editAvatarProfile",value:function(e){return fetch("".concat(this.baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this.headers,body:JSON.stringify({avatar:e.avatarLink})}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}}])&&t(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n}(),o=(document.querySelector("#popup-profile"),document.querySelector("#input-name"),document.querySelector("#input-title"),document.querySelector("#input-link"),document.querySelector("#input-img"),document.querySelector("#popup-add"),document.querySelector("#popup-img"),document.querySelector(".profile__info"),document.querySelector(".profile__title"),document.querySelector(".popup__button-create"),document.querySelectorAll(".popup__input"),document.querySelector(".profile__edit")),i=document.querySelector("#profile-form"),u=document.querySelector(".profile__add"),c=document.querySelector(".elements"),a=document.querySelector("#elements-form"),l=(document.querySelectorAll(".popup"),document.querySelector("#profile__avatar-edit")),s=document.querySelector("#profile-avatar-form");function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function y(e){var t=function(e){if("object"!=f(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==f(t)?t:t+""}var m=function(){return e=function e(t,n,r,o,i,u){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t.name,this._link=t.link,this._id=t._id,this._likes=t.likes,this._owner=t.owner,this._userId=r,this._cardId=t._id,this._element=this._getTemplate(),this._handleClickCard=n,this._handleDeleteCard=o,this._handleLikeCard=i,this._handleRemovelike=u},(t=[{key:"_getTemplate",value:function(){return document.querySelector(".template__elements").content.querySelector(".elements__container").cloneNode(!0)}},{key:"_setProperties",value:function(){var e=this;this._elementImage=this._element.querySelector(".elements__place-image"),this._elementName=this._element.querySelector(".elements__text"),this._likeBtn=this._element.querySelector(".elements__like"),this._dltBtn=this._element.querySelector(".elements__delete"),this._imgBtn=this._element.querySelector(".elements__place-image"),this._fullImg=document.querySelector(".popup__fullImg"),this._footerimg=document.querySelector(".popup__footer"),this._elementImage.src=this._link,this._elementName.textContent=this._name,this._popupImg=document.querySelector("#popup-img"),this._likes.some((function(t){return t._id===e._userId}))&&this._likeBtn.classList.toggle("elements__like-active"),this._likesCounter=this._element.querySelector(".elements__likes-number"),this._likesCounter.textContent=this._likes.length,this._elementImage.alt=this._name,this._element.id="id_".concat(this._cardId)}},{key:"_handleLike",value:function(){this._likeBtn.classList.toggle("elements__like-active")}},{key:"_changeLikeCounter",value:function(e){this._likes=e,this._likesCounter.textContent=e.length}},{key:"_handleDelete",value:function(){this._element.remove()}},{key:"handleOpenCard",value:function(){this.handleCardClick(this._name,this._link)}},{key:"_setListeners",value:function(){var e=this;this._likeBtn.addEventListener("click",(function(){e._likes.some((function(t){return t._id===e._userId}))?(e._handleRemovelike(e._cardId).then((function(t){e._changeLikeCounter(t.likes)})),e._likeBtn.classList.toggle("elements__like-active")):(e._handleLikeCard(e._cardId).then((function(t){e._changeLikeCounter(t.likes)})),e._likeBtn.classList.toggle("elements__like-active"))})),this._dltBtn.addEventListener("click",(function(){e._handleDeleteCard(e._cardId)})),this._imgBtn.addEventListener("click",(function(){e._handleClickCard(e._link,e._name)}))}},{key:"generateCard",value:function(){return this._setProperties(),this._setListeners(),this._element}}])&&p(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function v(e){var t=function(e){if("object"!=d(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==d(t)?t:t+""}var b=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.formElement=t,this.formSelector=n.formSelector,this.inputSelector=n.inputSelector,this.submitButtonSelector=n.submitButtonSelector,this.inactiveButtonClass=n.inactiveButtonClass,this.inputErrorClass=n.inputErrorClass,this.errorClass=n.errorClass,this.buttonElement=this.formElement.querySelector(n.submitButtonSelector),this.inputList=Array.from(this.formElement.querySelectorAll(this.inputSelector)),this._toggleButtonState()},(t=[{key:"_showInputError",value:function(e){var t=this.formElement.querySelector(".".concat(e.id,"-error"));e.classList.add(this.inputErrorClass),"Please fill in this field."==e.validationMessage?t.textContent="Preencha o campo.":"Please lengthen this text to 2 characters or more (you are currently using 1 character)."==e.validationMessage?t.textContent="Esse texto precisa ter 2 caracteres ou mais.":"Please enter a URL."==e.validationMessage&&(t.textContent="Entre com um endereÃ§o na Web."),t.classList.add(this.errorClass)}},{key:"_hideInputError",value:function(e){var t=this.formElement.querySelector(".".concat(e.id,"-error"));e.classList.remove(this.inputErrorClass),t.classList.remove(this.errorClass),t.textContent=""}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}},{key:"_hasInvalidInput",value:function(){return this.inputList.some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?(this.buttonElement.classList.add(this.inactiveButtonClass),this.buttonElement.disabled=!0):(this.buttonElement.classList.remove(this.inactiveButtonClass),this.buttonElement.disabled=!1)}},{key:"_setEventListeners",value:function(){var e=this;this.formElement.addEventListener("submit",(function(e){e.preventDefault()})),this.inputList.forEach((function(t){t.addEventListener("input",(function(){e._toggleButtonState(),e._checkInputValidity(t)}))}))}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&h(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g(r.key),r)}}function g(e){var t=function(e){if("object"!=_(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==_(t)?t:t+""}var k=function(){return e=function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderedItems=r,this._renderer=o,this._container=n},(t=[{key:"renderItems",value:function(){var e=this;this._renderedItems.forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(e){this._container.append(e)}}])&&S(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,C(r.key),r)}}function C(e){var t=function(e){if("object"!=w(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==w(t)?t:t+""}var j=function(){return e=function e(t){var n,r,o,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,o=function(e){"Escape"===e.key&&i.close()},(r=C(r="_handleEscClose"))in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,this._popupSelector=document.querySelector(t),this.setEventListeners()},(t=[{key:"open",value:function(){this._popupSelector.classList.add("popup__show"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popupSelector.classList.remove("popup__show"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._popupSelector.querySelector(".popup__close-button").addEventListener("click",(function(){e.close()})),this._popupSelector.querySelector(".popup__overlay").addEventListener("click",(function(){e.close()}))}}])&&E(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,L(r.key),r)}}function L(e){var t=function(e){if("object"!=P(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=P(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==P(t)?t:t+""}function q(e,t,n){return t=x(t),function(e,t){if(t&&("object"==P(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,I()?Reflect.construct(t,n||[],x(e).constructor):t.apply(e,n))}function I(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(I=function(){return!!e})()}function T(e,t,n,r){var o=B(x(1&r?e.prototype:e),t,n);return 2&r?function(e){return o.apply(n,e)}:o}function B(){return B="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=x(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},B.apply(null,arguments)}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function U(e,t){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},U(e,t)}var R=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=q(this,t,[e]))._handleSubmit=n,r._formelement=r._popupSelector.querySelector(".popup__form"),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U(e,t)}(t,e),n=t,(r=[{key:"getUserInfo",value:function(){var e=document.querySelector(this._popupSelector).querySelector("form"),t={name:document.querySelector(".profile__info").textContent,about:document.querySelector(".profile__title").textContent};Array.from(e.elements).forEach((function(e){e.name&&(e.value=t[e.name])}))}},{key:"getInputValues",value:function(){var e={};return this._formelement.querySelectorAll(".popup__input").forEach((function(t){e[t.name]=t.value})),e}},{key:"close",value:function(){T(t,"close",this,3)([]),this.toggleTextButton()}},{key:"toggleTextButton",value:function(){var e=this._popupSelector.querySelector(".popup__button"),t="";"Salvar"===e.textContent.trim()?t="Salvando...":"Criar"===e.textContent.trim()?t="Criando...":"Salvando..."===e.textContent.trim()?t="Salvar":"Criando..."===e.textContent.trim()&&(t="Criar"),e.textContent=t}},{key:"open",value:function(){T(t,"open",this,3)([]);var e=this._popupSelector.querySelector(".popup__button");"Criando..."===e.textContent.trim()&&(e.textContent="Criar")}},{key:"setEventListeners",value:function(){var e=this;T(t,"setEventListeners",this,3)([]),this._popupSelector.querySelector("form").addEventListener("submit",(function(t){t.preventDefault(),e.toggleTextButton(),e._handleSubmit(e.getInputValues()),e.close()}))}}])&&O(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(j);function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,V(r.key),r)}}function V(e){var t=function(e){if("object"!=D(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=D(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==D(t)?t:t+""}function N(e,t,n){return t=H(t),function(e,t){if(t&&("object"==D(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,J()?Reflect.construct(t,n||[],H(e).constructor):t.apply(e,n))}function J(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(J=function(){return!!e})()}function M(e,t,n,r){var o=G(H(1&r?e.prototype:e),t,n);return 2&r?function(e){return o.apply(n,e)}:o}function G(){return G="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=H(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},G.apply(null,arguments)}function H(e){return H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},H(e)}function z(e,t){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},z(e,t)}var F=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=N(this,t,[e])).handleCardClick=n.handleCardClick.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z(e,t)}(t,e),n=t,(r=[{key:"handleCardClick",value:function(e,n){this._showImage=document.querySelector(".popup__fullImg"),this._showSubtitle=document.querySelector(".popup__footer"),this._showImage.alt="Fotografia de ".concat(e),this._showImage.src=n,this._showSubtitle.textContent=e,M(t,"open",this,3)([])}},{key:"close",value:function(){M(t,"close",this,3)([])}},{key:"setEventListeners",value:function(){M(t,"setEventListeners",this,3)([])}}])&&A(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(j);function W(e){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Q(r.key),r)}}function Q(e){var t=function(e){if("object"!=W(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=W(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==W(t)?t:t+""}var X=function(){return e=function e(t){var n=t.name,r=t.about,o=t.avatar;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(n),this._title=document.querySelector(r),this._avatar=document.querySelector(o)},(t=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,about:this._title.textContent,userAvatar:this._avatar.src}}},{key:"setUserInfo",value:function(e){e&&(this._name.textContent=e.name,this._title.textContent=e.about,e.avatar&&(this._avatar.src=e.avatar),e._id&&(this._userId=e._id))}}])&&K(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function Y(e){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(e)}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$(r.key),r)}}function $(e){var t=function(e){if("object"!=Y(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Y(t)?t:t+""}function ee(e,t,n){return t=oe(t),function(e,t){if(t&&("object"==Y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,te()?Reflect.construct(t,n||[],oe(e).constructor):t.apply(e,n))}function te(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(te=function(){return!!e})()}function ne(e,t,n,r){var o=re(oe(1&r?e.prototype:e),t,n);return 2&r?function(e){return o.apply(n,e)}:o}function re(){return re="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=oe(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},re.apply(null,arguments)}function oe(e){return oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},oe(e)}function ie(e,t){return ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ie(e,t)}var ue=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=ee(this,t,[e]))._handleConfirmation=n,r._formElement=document.querySelector(".popup__form-confirmation"),r.cardId="",r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ie(e,t)}(t,e),n=t,(r=[{key:"setEventListeners",value:function(){var e=this;ne(t,"setEventListeners",this,3)([]),document.querySelector(".popup__form-confirmation").addEventListener("submit",(function(n){n.preventDefault(),e._handleConfirmation(e.cardId),ne(t,"close",e,3)([])}))}},{key:"open",value:function(e){this.cardId=e,ne(t,"open",this,3)([])}},{key:"close",value:function(){ne(t,"close",this,3)([])}}])&&Z(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(j),ce=new X({name:".profile__info",about:".profile__title",avatar:".profile__avatar"}),ae=new r({baseUrl:"https://around.nomoreparties.co/v1/web-ptbr-cohort-12",headers:{authorization:" b3a308ed-c246-4b89-8cdf-bac76edb874d","Content-Type":"application/json"}});ae.getUserInfo().then((function(e){ce.setUserInfo(e),ae.getInitialCards().then((function(e){var t=new k({items:e,renderer:function(e){var n=new m(e,(function(){pe.handleCardClick(e.name,e.link)}),ce._userId,(function(){ye.open(e._id)}),(function(){return ae.addLike(e._id)}),(function(){return ae.removeLike(e._id)})).generateCard();t.addItem(n)}},c);t.renderItems()}))}));var le=new R("#popup-add",(function(e){e.link&&ae.addcards(e).then((function(e){var t=new m(e,(function(){pe.handleCardClick(e.name,e.link)}),ce._userId,(function(){ye.open(e._id)}),(function(e){return ae.addLike(e)}),(function(e){return ae.removeLike(e)})).generateCard();c.prepend(t),le.close()}))})),se=new R("#popup-profile",(function(e){ae.editProfile(e).then((function(e){ce.setUserInfo(e),se.close()}))}));se.setEventListeners();var fe=new R("#popup-avatar-profile",(function(e){ae.editAvatarProfile(e).then((function(e){ce.setUserInfo(e),fe.close()}))}));fe.setEventListeners();var pe=new F("#popup-img");pe.setEventListeners();var ye=new ue("#popup-delete-confirmation",(function(e){ae.deleteCard(e).then((function(){ye.close();var t=document.querySelector("#id_".concat(e));t&&t.remove()}))}));ye.setEventListeners(),o.addEventListener("click",(function(){se.open(),se.getUserInfo,me.enableValidation()})),l.addEventListener("click",(function(){fe.open()})),u.addEventListener("click",(function(){le.open()}));var me=new b(a,{formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"}),de=new b(i,{formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"}),he=new b(s,{formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"});me.enableValidation(),de.enableValidation(),he.enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVkseUJBRWRpRyxHQUFpQkMsbUJBQ2pCQyxHQUFvQkQsbUJBQ3BCRSxHQUFxQkYsa0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvc2NyaXB0cy9hcGkuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL3NjcmlwdHMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL3NjcmlwdHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvc2NyaXB0cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9zY3JpcHRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL3NjcmlwdHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL3NjcmlwdHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvc2NyaXB0cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvc2NyaXB0cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvc2NyaXB0cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICB0aGlzLmJhc2VVcmwgPSBvcHRpb25zLmJhc2VVcmw7XG4gICAgdGhpcy5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgfSk7XG4gIH1cblxuICAgZ2V0SW5pdGlhbENhcmRzKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgYWRkY2FyZHMoZGF0YSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogZGF0YS5wbGFjZSxcbiAgICAgICAgbGluazogZGF0YS5saW5rLFxuICAgICAgfSksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgfSk7XG4gIH1cblxuICBkZWxldGVDYXJkKGNhcmRJZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICB9KTtcbiAgfVxuXG4gIGFkZExpa2UoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgIH0pO1xuICB9XG4gIHJlbW92ZUxpa2UoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgIH0pO1xuICB9XG4gIGVkaXRQcm9maWxlKGRhdGEpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXG4gICAgICAgIGFib3V0OiBkYXRhLmFib3V0LFxuICAgICAgfSksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgfSk7XG4gIH1cblxuICBlZGl0QXZhdGFyUHJvZmlsZShkYXRhKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGF2YXRhcjogZGF0YS5hdmF0YXJMaW5rLFxuICAgICAgfSksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpOyAgICAgIFxuICAgICAgfSk7XG4gIH1cbn1cbiIsImV4cG9ydCBjb25zdCBwb3BVcFByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3BvcHVwLXByb2ZpbGVcIik7XG5leHBvcnQgY29uc3QgcHJvZmlsZU5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW5wdXQtbmFtZVwiKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlQWJvdXRJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW5wdXQtdGl0bGVcIik7XG5leHBvcnQgY29uc3QgZWxlbWVudExpbmtJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW5wdXQtbGlua1wiKTtcbmV4cG9ydCBjb25zdCBlbGVtZW50TmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNpbnB1dC1pbWdcIik7XG5leHBvcnQgY29uc3QgcG9wVXBBZGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3BvcHVwLWFkZFwiKTtcbmV4cG9ydCBjb25zdCBwb3B1cEltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcG9wdXAtaW1nXCIpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19pbmZvXCIpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVBYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fdGl0bGVcIik7XG5leHBvcnQgY29uc3QgYnV0dG9uU2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b24tY3JlYXRlXCIpO1xuXG5leHBvcnQgY29uc3QgaW5wdXRTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2lucHV0XCIpO1xuZXhwb3J0IGNvbnN0IGJ0bkVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXRcIik7XG5leHBvcnQgY29uc3QgZm9ybVByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtZm9ybVwiKTtcbmV4cG9ydCBjb25zdCBidG5BZGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZFwiKTtcbmV4cG9ydCBjb25zdCBlbGVtZW50QXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNcIik7XG5leHBvcnQgY29uc3QgZm9ybUVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlbGVtZW50cy1mb3JtXCIpO1xuZXhwb3J0IGNvbnN0IHBvcHVwcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBcIik7XG5leHBvcnQgY29uc3QgYXZhdGFyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlX19hdmF0YXItZWRpdFwiKTtcbmV4cG9ydCBjb25zdCBmb3JtQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWF2YXRhci1mb3JtXCIpO1xuXG5cblxuZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcbiAge1xuICAgIG5hbWU6IFwiVmFsZSBkZSBZb3NlbWl0ZVwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS93ZWItY29kZS9tb3ZlZF95b3NlbWl0ZS5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGFnbyBMb3Vpc2VcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vd2ViLWNvZGUvbW92ZWRfbGFrZS1sb3Vpc2UuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIk1vbnRhbmhhcyBDYXJlY2FzXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3dlYi1jb2RlL21vdmVkX2JhbGQtbW91bnRhaW5zLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJMYXRlbWFyXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3dlYi1jb2RlL21vdmVkX2xhdGVtYXIuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIlBhcnF1ZSBOYWNpb25hbCBkYSBWYW5vaXNlIFwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS93ZWItY29kZS9tb3ZlZF92YW5vaXNlLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJMYWdvIGRpIEJyYWllc1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS93ZWItY29kZS9tb3ZlZF9sYWdvLmpwZ1wiLFxuICB9LFxuXTtcblxuXG5cbi8vb3BlbiBjbG9zZSBwcm9maWxlIHByb2ZpbGUgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImlucHV0LXRpdGxlLWVycm9yIHBvcHVwX19lcnJvclwiXG5leHBvcnQgZnVuY3Rpb24gb3BlblByb2ZpbGUoKSB7XG4gIHBvcFVwUHJvZmlsZS5jbGFzc0xpc3QudG9nZ2xlKFwicG9wdXBfX3Nob3dcIik7XG4gIHByb2ZpbGVOYW1lSW5wdXQudmFsdWUgPSBwcm9maWxlTmFtZS50ZXh0Q29udGVudDtcbiAgcHJvZmlsZUFib3V0SW5wdXQudmFsdWUgPSBwcm9maWxlQWJvdXQudGV4dENvbnRlbnQ7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUVzYyk7XG59XG5leHBvcnQgZnVuY3Rpb24gY2xvc2VBbGwoKSB7XG4gIHBvcFVwUHJvZmlsZS5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfX3Nob3dcIik7XG4gIGVsZW1lbnRMaW5rSW5wdXQudmFsdWUgPSBcIlwiO1xuICBlbGVtZW50TmFtZUlucHV0LnZhbHVlID0gXCJcIjtcbiAgcG9wVXBBZGQuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX19zaG93XCIpO1xuICBwb3B1cEltZy5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfX3Nob3dcIik7XG4gIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUVzYyk7XG5cbiAgaW5wdXRTZWxlY3Rvci5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9fZXJyb3JfdmlzaWJsZVwiKTtcbiAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfX2lucHV0X3R5cGVfZXJyb3JcIik7XG4gIH0pO1xuICBidXR0b25TZWxlY3Rvci5jbGFzc0xpc3QuYWRkKFwicG9wdXBfX2J1dHRvbl9kaXNhYmxlZFwiKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVFc2MoZXZ0KSB7XG4gIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgY2xvc2VBbGwoKTtcbiAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHNhdmVDaGFuZ2VzKGV2dCkge1xuICBwcm9maWxlTmFtZS50ZXh0Q29udGVudCA9IHByb2ZpbGVOYW1lSW5wdXQudmFsdWU7XG4gIHByb2ZpbGVBYm91dC50ZXh0Q29udGVudCA9IHByb2ZpbGVBYm91dElucHV0LnZhbHVlO1xuICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgY2xvc2VBbGwoKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBvcGVuQWRkKCkge1xuICBwb3BVcEFkZC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfX3Nob3dcIik7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUVzYyk7XG59XG5cblxuXG4iLCJpbXBvcnQgeyBjbG9zZUFsbCwgaGFuZGxlRXNjIH0gZnJvbSBcIi4vdXRpbHMuanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3RvciggaXRlbSwgaGFuZGxlQ2xpY2tDYXJkLCB1c2VySWQsIGhhbmRsZURlbGV0ZUNhcmQsIGhhbmRsZUxpa2VDYXJkLCBoYW5kbGVSZW1vdmVMaWtlKSB7XHJcbiAgICB0aGlzLl9uYW1lID0gaXRlbS5uYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGl0ZW0ubGluaztcclxuICAgIHRoaXMuX2lkID0gaXRlbS5faWQ7XHJcbiAgICB0aGlzLl9saWtlcyA9IGl0ZW0ubGlrZXM7XHJcbiAgICB0aGlzLl9vd25lciA9IGl0ZW0ub3duZXI7XHJcbiAgICB0aGlzLl91c2VySWQgPSB1c2VySWQ7XHJcbiAgICB0aGlzLl9jYXJkSWQgPSBpdGVtLl9pZDtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgdGhpcy5faGFuZGxlQ2xpY2tDYXJkID0gaGFuZGxlQ2xpY2tDYXJkO1xyXG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQ2FyZCA9IGhhbmRsZURlbGV0ZUNhcmQ7XHJcbiAgICB0aGlzLl9oYW5kbGVMaWtlQ2FyZCA9IGhhbmRsZUxpa2VDYXJkO1xyXG4gICAgdGhpcy5faGFuZGxlUmVtb3ZlbGlrZSA9IGhhbmRsZVJlbW92ZUxpa2U7XHJcbiAgICBcclxuICB9XHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgcmV0dXJuIGRvY3VtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLnRlbXBsYXRlX19lbGVtZW50c1wiKVxyXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19jb250YWluZXJcIilcclxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcclxuICB9XHJcbiAgX3NldFByb3BlcnRpZXMoKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50SW1hZ2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX3BsYWNlLWltYWdlXCIpO1xyXG4gICAgdGhpcy5fZWxlbWVudE5hbWUgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX3RleHRcIik7XHJcbiAgICB0aGlzLl9saWtlQnRuID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19saWtlXCIpO1xyXG4gICAgdGhpcy5fZGx0QnRuID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19kZWxldGVcIik7XHJcbiAgICB0aGlzLl9pbWdCdG4gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX3BsYWNlLWltYWdlXCIpO1xyXG4gICAgdGhpcy5fZnVsbEltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Z1bGxJbWdcIik7XHJcbiAgICB0aGlzLl9mb290ZXJpbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb290ZXJcIik7XHJcbiAgICB0aGlzLl9lbGVtZW50SW1hZ2Uuc3JjID0gdGhpcy5fbGluaztcclxuICAgIHRoaXMuX2VsZW1lbnROYW1lLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuX3BvcHVwSW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwb3B1cC1pbWdcIik7XHJcbiAgICBpZiAodGhpcy5fbGlrZXMuc29tZSgoaXRlbSkgPT4gaXRlbS5faWQgPT09IHRoaXMuX3VzZXJJZCkpIHtcclxuICAgICAgdGhpcy5fbGlrZUJ0bi5jbGFzc0xpc3QudG9nZ2xlKFwiZWxlbWVudHNfX2xpa2UtYWN0aXZlXCIpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5fbGlrZXNDb3VudGVyID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19saWtlcy1udW1iZXJcIik7XHJcbiAgICB0aGlzLl9saWtlc0NvdW50ZXIudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XHJcbiAgICB0aGlzLl9lbGVtZW50SW1hZ2UuYWx0ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuX2VsZW1lbnQuaWQgPSBgaWRfJHt0aGlzLl9jYXJkSWR9YDtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVMaWtlKCkge1xyXG4gICAgdGhpcy5fbGlrZUJ0bi5jbGFzc0xpc3QudG9nZ2xlKFwiZWxlbWVudHNfX2xpa2UtYWN0aXZlXCIpO1xyXG4gIH1cclxuICBfY2hhbmdlTGlrZUNvdW50ZXIobmV3QXJyYXlMaWtlcykge1xyXG4gICAgdGhpcy5fbGlrZXMgPSBuZXdBcnJheUxpa2VzO1xyXG4gICAgdGhpcy5fbGlrZXNDb3VudGVyLnRleHRDb250ZW50ID0gbmV3QXJyYXlMaWtlcy5sZW5ndGg7XHJcbiAgfVxyXG4gIF9oYW5kbGVEZWxldGUoKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xyXG4gIH1cclxuICBoYW5kbGVPcGVuQ2FyZCgpIHtcclxuICAgIHRoaXMuaGFuZGxlQ2FyZENsaWNrKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspO1xyXG4gIH1cclxuICBfc2V0TGlzdGVuZXJzKCkge1xyXG4gICAgXHJcbiAgICB0aGlzLl9saWtlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIGlmICh0aGlzLl9saWtlcy5zb21lKChpdGVtKSA9PiBpdGVtLl9pZCA9PT0gdGhpcy5fdXNlcklkKSkge1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZVJlbW92ZWxpa2UodGhpcy5fY2FyZElkKS50aGVuKChjYXJkV2l0aExpa2UpID0+IHtcclxuICAgICAgICAgIHRoaXMuX2NoYW5nZUxpa2VDb3VudGVyKGNhcmRXaXRoTGlrZS5saWtlcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fbGlrZUJ0bi5jbGFzc0xpc3QudG9nZ2xlKFwiZWxlbWVudHNfX2xpa2UtYWN0aXZlXCIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUxpa2VDYXJkKHRoaXMuX2NhcmRJZCkudGhlbigoY2FyZFdpdGhMaWtlKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLl9jaGFuZ2VMaWtlQ291bnRlcihjYXJkV2l0aExpa2UubGlrZXMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX2xpa2VCdG4uY2xhc3NMaXN0LnRvZ2dsZShcImVsZW1lbnRzX19saWtlLWFjdGl2ZVwiKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICB0aGlzLl9kbHRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQ2FyZCh0aGlzLl9jYXJkSWQpO1xyXG4gICAgICAvL3RoaXMuX2hhbmRsZURlbGV0ZSgpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl9pbWdCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlQ2xpY2tDYXJkKHRoaXMuX2xpbmssIHRoaXMuX25hbWUpO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICB9XHJcblxyXG4gIFxyXG4gIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX3NldFByb3BlcnRpZXMoKTtcclxuICAgIHRoaXMuX3NldExpc3RlbmVycygpO1xyXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3Rvcihmb3JtRWxlbWVudCwgc2V0dGluZ3MpIHtcclxuICAgIHRoaXMuZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcclxuICAgIHRoaXMuZm9ybVNlbGVjdG9yID0gc2V0dGluZ3MuZm9ybVNlbGVjdG9yO1xyXG4gICAgdGhpcy5pbnB1dFNlbGVjdG9yID0gc2V0dGluZ3MuaW5wdXRTZWxlY3RvcjtcclxuICAgIHRoaXMuc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBzZXR0aW5ncy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcclxuICAgIHRoaXMuaW5hY3RpdmVCdXR0b25DbGFzcyA9IHNldHRpbmdzLmluYWN0aXZlQnV0dG9uQ2xhc3M7XHJcbiAgICB0aGlzLmlucHV0RXJyb3JDbGFzcyA9IHNldHRpbmdzLmlucHV0RXJyb3JDbGFzcztcclxuICAgIHRoaXMuZXJyb3JDbGFzcyA9IHNldHRpbmdzLmVycm9yQ2xhc3M7XHJcbiAgICB0aGlzLmJ1dHRvbkVsZW1lbnQgPSB0aGlzLmZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIHNldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yXHJcbiAgICApO1xyXG4gICAgdGhpcy5pbnB1dExpc3QgPSBBcnJheS5mcm9tKFxyXG4gICAgICB0aGlzLmZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5pbnB1dFNlbGVjdG9yKVxyXG4gICAgKTtcclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgfVxyXG5cclxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLmZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxyXG4gICAgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuaW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGlmIChpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UgPT0gXCJQbGVhc2UgZmlsbCBpbiB0aGlzIGZpZWxkLlwiKSB7XHJcbiAgICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiUHJlZW5jaGEgbyBjYW1wby5cIjtcclxuICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSA9PVxyXG4gICAgICBcIlBsZWFzZSBsZW5ndGhlbiB0aGlzIHRleHQgdG8gMiBjaGFyYWN0ZXJzIG9yIG1vcmUgKHlvdSBhcmUgY3VycmVudGx5IHVzaW5nIDEgY2hhcmFjdGVyKS5cIlxyXG4gICAgKSB7XHJcbiAgICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiRXNzZSB0ZXh0byBwcmVjaXNhIHRlciAyIGNhcmFjdGVyZXMgb3UgbWFpcy5cIjtcclxuICAgIH0gZWxzZSBpZiAoaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlID09IFwiUGxlYXNlIGVudGVyIGEgVVJMLlwiKSB7XHJcbiAgICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiRW50cmUgY29tIHVtIGVuZGVyZcOnbyBuYSBXZWIuXCI7XHJcbiAgICB9XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLmVycm9yQ2xhc3MpO1xyXG4gIH1cclxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLmZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxyXG4gICAgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuaW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuZXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gIH1cclxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xyXG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xyXG4gICAgICB0aGlzLmJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICB0aGlzLmJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgdGhpcy5idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLmlucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNhcmRDb250YWluZXIpIHtcclxuICAgIHRoaXMuX3JlbmRlcmVkSXRlbXMgPSBpdGVtcztcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBjYXJkQ29udGFpbmVyO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVySXRlbXMoKSB7XHJcbiAgICB0aGlzLl9yZW5kZXJlZEl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZChlbGVtZW50KTtcclxuICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcG9wdXBTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG4gIG9wZW4oKSB7XHJcbiAgIFxyXG4gICAgdGhpcy5fcG9wdXBTZWxlY3Rvci5jbGFzc0xpc3QuYWRkKFwicG9wdXBfX3Nob3dcIik7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG4gIGNsb3NlKCkge1xyXG4gICBcclxuICAgIHRoaXMuX3BvcHVwU2VsZWN0b3IuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX19zaG93XCIpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuICBfaGFuZGxlRXNjQ2xvc2UgPSAoZXZ0KSA9PiB7XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgXHJcbiAgICBjb25zdCBjbG9zZUJ1dHRvbiA9IHRoaXMuX3BvcHVwU2VsZWN0b3IucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2xvc2UtYnV0dG9uXCIpO1xyXG4gICAgY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fcG9wdXBTZWxlY3Rvci5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19vdmVybGF5XCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH0pO1xyXG4gIH1cclxufSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3RvcihzZWxlY3RvciwgaGFuZGxlU3VibWl0KSB7XG4gICAgc3VwZXIoc2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZVN1Ym1pdCA9IGhhbmRsZVN1Ym1pdDtcbiAgICAvLyB0aGlzLmdldFVzZXJJbmZvKCk7XG4gICAgdGhpcy5fZm9ybWVsZW1lbnQgPSB0aGlzLl9wb3B1cFNlbGVjdG9yLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIikgO1xuICB9XG4gIGdldFVzZXJJbmZvKCl7XG4gICAgY29uc3QgcG9wdXBPcGVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9wb3B1cFNlbGVjdG9yKTtcbiAgICBjb25zdCBmb3JtID0gcG9wdXBPcGVuLnF1ZXJ5U2VsZWN0b3IoXCJmb3JtXCIpO1xuICAgIGNvbnN0IG5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2luZm9cIikudGV4dENvbnRlbnQ7XG4gICAgY29uc3QgYWJvdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3RpdGxlXCIpLnRleHRDb250ZW50O1xuICAgIGNvbnN0IGlucHV0VmFsdWVzID0gIHtuYW1lLCBhYm91dH07XG4gICAgY29uc3QgaW5wdXRGb3JtcyA9IEFycmF5LmZyb20oZm9ybS5lbGVtZW50cyk7XG4gICAgaW5wdXRGb3Jtcy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICBpZiAoZWxlbWVudC5uYW1lKSB7XG4gICAgICAgIGVsZW1lbnQudmFsdWUgPSAgaW5wdXRWYWx1ZXNbZWxlbWVudC5uYW1lXTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBnZXRJbnB1dFZhbHVlcygpIHtcbiAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHt9O1xuICAgIGNvbnN0IGlucHV0Rm9ybXMgPSB0aGlzLl9mb3JtZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19pbnB1dFwiKTtcbiAgICBpbnB1dEZvcm1zLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgIGlucHV0VmFsdWVzW2VsZW1lbnQubmFtZV0gPSBlbGVtZW50LnZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiBpbnB1dFZhbHVlcztcbiAgfVxuICBjbG9zZSgpIHtcbiAgICBzdXBlci5jbG9zZSgpO1xuICAgIHRoaXMudG9nZ2xlVGV4dEJ1dHRvbigpO1xuXG4gIH1cbiAgdG9nZ2xlVGV4dEJ1dHRvbigpe1xuICAgIGNvbnN0IHRleHRCdXR0b24gPSB0aGlzLl9wb3B1cFNlbGVjdG9yLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2J1dHRvblwiKTtcbiAgICBsZXQgdGV4dHRvZ2dsZSA9IFwiXCI7XG4gICAgaWYgKHRleHRCdXR0b24udGV4dENvbnRlbnQudHJpbSgpID09PSBcIlNhbHZhclwiKXtcbiAgICAgIHRleHR0b2dnbGUgPSBcIlNhbHZhbmRvLi4uXCI7XG4gICAgfWVsc2UgaWYgKHRleHRCdXR0b24udGV4dENvbnRlbnQudHJpbSgpID09PSBcIkNyaWFyXCIpe1xuICAgICAgdGV4dHRvZ2dsZSA9IFwiQ3JpYW5kby4uLlwiO1xuICAgIH1lbHNlIGlmICh0ZXh0QnV0dG9uLnRleHRDb250ZW50LnRyaW0oKSA9PT0gXCJTYWx2YW5kby4uLlwiKXtcbiAgICAgIHRleHR0b2dnbGUgPSBcIlNhbHZhclwiO1xuICAgIH1lbHNlIGlmICh0ZXh0QnV0dG9uLnRleHRDb250ZW50LnRyaW0oKSA9PT0gXCJDcmlhbmRvLi4uXCIpe1xuICAgICAgdGV4dHRvZ2dsZSA9IFwiQ3JpYXJcIjtcbiAgICB9XG4gICAgdGV4dEJ1dHRvbi50ZXh0Q29udGVudCA9IHRleHR0b2dnbGU7XG5cbiAgfVxuXG4gIG9wZW4oKXtcbiAgICBzdXBlci5vcGVuKCk7XG4gICAgY29uc3QgdGV4dEJ1dHRvbiA9IHRoaXMuX3BvcHVwU2VsZWN0b3IucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fYnV0dG9uXCIpO1xuICAgIGlmICh0ZXh0QnV0dG9uLnRleHRDb250ZW50LnRyaW0oKSA9PT0gJ0NyaWFuZG8uLi4nKXtcbiAgICAgIHRleHRCdXR0b24udGV4dENvbnRlbnQgPSAnQ3JpYXInO1xuICAgIH1cbiAgfVxuXG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICBjb25zdCBmb3JtID0gdGhpcy5fcG9wdXBTZWxlY3Rvci5xdWVyeVNlbGVjdG9yKFwiZm9ybVwiKTtcbiAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMudG9nZ2xlVGV4dEJ1dHRvbigpO1xuICAgICAgICB0aGlzLl9oYW5kbGVTdWJtaXQodGhpcy5nZXRJbnB1dFZhbHVlcygpKTtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuXG5cbiAgICB9KTtcbiAgfVxufSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLmhhbmRsZUNhcmRDbGljayA9IHRoaXMuaGFuZGxlQ2FyZENsaWNrLmJpbmQodGhpcyk7XHJcbiAgfVxyXG4gIGhhbmRsZUNhcmRDbGljayhuYW1lLCBsaW5rKSB7XHJcbiAgICB0aGlzLl9zaG93SW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mdWxsSW1nXCIpO1xyXG4gICAgdGhpcy5fc2hvd1N1YnRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9vdGVyXCIpO1xyXG4gICAgdGhpcy5fc2hvd0ltYWdlLmFsdCA9IGBGb3RvZ3JhZmlhIGRlICR7bmFtZX1gO1xyXG4gICAgdGhpcy5fc2hvd0ltYWdlLnNyYyA9IGxpbms7XHJcbiAgICB0aGlzLl9zaG93U3VidGl0bGUudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxuICBjbG9zZSgpIHtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgfVxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IoeyBuYW1lLCBhYm91dCwgYXZhdGFyIH0pIHtcclxuICAgIHRoaXMuX25hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWUpO1xyXG4gICAgdGhpcy5fdGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGFib3V0KTtcclxuICAgIHRoaXMuX2F2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyKTtcclxuICB9XHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBuYW1lOiB0aGlzLl9uYW1lLnRleHRDb250ZW50LFxyXG4gICAgICBhYm91dDogdGhpcy5fdGl0bGUudGV4dENvbnRlbnQsXHJcbiAgICAgIHVzZXJBdmF0YXI6IHRoaXMuX2F2YXRhci5zcmMsXHJcbiAgICB9O1xyXG4gIH1cclxuICBzZXRVc2VySW5mbyhkYXRhKSB7XHJcbiAgICBpZiAoZGF0YSl7XHJcbiAgICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XHJcbiAgICAgIHRoaXMuX3RpdGxlLnRleHRDb250ZW50ID0gZGF0YS5hYm91dDtcclxuICAgICAgaWYgKGRhdGEuYXZhdGFyKSB7XHJcbiAgICAgICAgdGhpcy5fYXZhdGFyLnNyYyA9IGRhdGEuYXZhdGFyO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChkYXRhLl9pZCkge1xyXG4gICAgICAgIHRoaXMuX3VzZXJJZCA9IGRhdGEuX2lkO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aENvbmZpcm1hdGlvbiBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlQ29uZmlybWF0aW9uKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5faGFuZGxlQ29uZmlybWF0aW9uID0gaGFuZGxlQ29uZmlybWF0aW9uO1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybS1jb25maXJtYXRpb25cIik7XG4gICAgdGhpcy5jYXJkSWQgPSBcIlwiO1xuICAgIFxuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAvLyB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtLWNvbmZpcm1hdGlvblwiKS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHsgIFxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9oYW5kbGVDb25maXJtYXRpb24odGhpcy5jYXJkSWQpO1xuICAgICAgc3VwZXIuY2xvc2UoKTtcbiAgICB9KTtcbiAgfVxuXG4gIG9wZW4oY2FyZElkKSB7XG4gICAgdGhpcy5jYXJkSWQgPSBjYXJkSWQ7XG4gICAgc3VwZXIub3BlbigpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgfVxufVxuIiwiaW1wb3J0IEFwaSBmcm9tIFwiLi9zY3JpcHRzL2FwaS5qc1wiO1xuaW1wb3J0IFwiLi9wYWdlcy9pbmRleC5jc3NcIjtcbmltcG9ydCB7IENhcmQgfSBmcm9tIFwiLi9zY3JpcHRzL0NhcmQuanNcIjtcbmltcG9ydCB7IEZvcm1WYWxpZGF0b3IgfSBmcm9tIFwiLi9zY3JpcHRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuL3NjcmlwdHMvU2VjdGlvbi5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4vc2NyaXB0cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4vc2NyaXB0cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xuaW1wb3J0IHtcbiAgY2xvc2VBbGwsXG4gIGhhbmRsZUVzYyxcbiAgaW5pdGlhbENhcmRzLFxuICBidG5FZGl0LFxuICBmb3JtUHJvZmlsZSxcbiAgYnRuQWRkLFxuICBlbGVtZW50QXJlYSxcbiAgZm9ybUVsZW1lbnRzLFxuICBwb3B1cHMsXG4gIGF2YXRhckJ0bixcbiAgZm9ybUF2YXRhcixcblxufSBmcm9tIFwiLi9zY3JpcHRzL3V0aWxzLmpzXCI7XG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4vc2NyaXB0cy9Vc2VySW5mby5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm1hdGlvbiBmcm9tIFwiLi9zY3JpcHRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qc1wiO1xuXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XG4gIG5hbWU6IFwiLnByb2ZpbGVfX2luZm9cIixcbiAgYWJvdXQ6IFwiLnByb2ZpbGVfX3RpdGxlXCIsXG4gIGF2YXRhcjogXCIucHJvZmlsZV9fYXZhdGFyXCIsXG59KTtcblxuXG5cbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvd2ViLXB0YnItY29ob3J0LTEyXCIsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiBcIiBiM2EzMDhlZC1jMjQ2LTRiODktOGNkZi1iYWM3NmVkYjg3NGRcIixcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgfSxcbn0pO1xuXG4vL0luaXRpYWwgY2FyZHMgbG9naWNcbmFwaS5nZXRVc2VySW5mbygpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICB1c2VySW5mby5zZXRVc2VySW5mbyhyZXN1bHQpO1xuXG4gIGFwaS5nZXRJbml0aWFsQ2FyZHMoKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICBjb25zdCBjYXJkTGlzdCA9IG5ldyBTZWN0aW9uKFxuICAgICAge1xuICAgICAgICBpdGVtczogcmVzdWx0LFxuICAgICAgICByZW5kZXJlcjogKGl0ZW0pID0+IHtcbiAgICAgICAgICBjb25zdCBjYXJkcyA9IG5ldyBDYXJkKFxuICAgICAgICAgICAgaXRlbSxcblxuICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICBwb3B1cFBpY3R1cmUuaGFuZGxlQ2FyZENsaWNrKGl0ZW0ubmFtZSwgaXRlbS5saW5rKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1c2VySW5mby5fdXNlcklkLFxuICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICBwb3B1cFdpdGhDb25maXJtYXRpb24ub3BlbihpdGVtLl9pZCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKCkgPT4gYXBpLmFkZExpa2UoaXRlbS5faWQpLFxuICAgICAgICAgICAgKCkgPT4gYXBpLnJlbW92ZUxpa2UoaXRlbS5faWQpXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmRzLmdlbmVyYXRlQ2FyZCgpO1xuXG4gICAgICAgICAgY2FyZExpc3QuYWRkSXRlbShjYXJkRWxlbWVudCk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgZWxlbWVudEFyZWFcbiAgICApO1xuXG4gICAgY2FyZExpc3QucmVuZGVySXRlbXMoKTtcbiAgfSk7XG59KTtcblxuLy8gQWRkIGNhcmRzIGxvZ2ljXG5jb25zdCBwb3B1cEFkZENhcmQgPSBuZXcgUG9wdXBXaXRoRm9ybShcIiNwb3B1cC1hZGRcIiwgKGlucHV0KSA9PiB7XG4gIGlmIChpbnB1dC5saW5rKXtcbiAgICBhcGkuYWRkY2FyZHMoaW5wdXQpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgY29uc3QgbmV3Q2FyZCA9IG5ldyBDYXJkKFxuICAgICAgICByZXN1bHQsXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICBwb3B1cFBpY3R1cmUuaGFuZGxlQ2FyZENsaWNrKHJlc3VsdC5uYW1lLCByZXN1bHQubGluayk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdXNlckluZm8uX3VzZXJJZCxcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIHBvcHVwV2l0aENvbmZpcm1hdGlvbi5vcGVuKHJlc3VsdC5faWQpO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgKGNhcmRJZCkgPT4gYXBpLmFkZExpa2UoY2FyZElkKSxcbiAgICAgICAgKGNhcmRJZCkgPT4gYXBpLnJlbW92ZUxpa2UoY2FyZElkKVxuICAgICAgKTtcbiAgICAgIGNvbnN0IG5ld0NhcmRFbGVtZW50ID0gbmV3Q2FyZC5nZW5lcmF0ZUNhcmQoKTtcbiAgICAgIGVsZW1lbnRBcmVhLnByZXBlbmQobmV3Q2FyZEVsZW1lbnQpO1xuICAgICAgcG9wdXBBZGRDYXJkLmNsb3NlKCk7XG4gICAgfSk7XG4gIH1cblxufSk7XG5cbi8vcG9wdXAgcHJvZmlsZVxuY29uc3QgcG9wdXBQcm9maWxlMSA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiI3BvcHVwLXByb2ZpbGVcIiwgKGlucHV0cykgPT4ge1xuICBhcGkuZWRpdFByb2ZpbGUoaW5wdXRzKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyhyZXN1bHQpO1xuICAgIHBvcHVwUHJvZmlsZTEuY2xvc2UoKTtcbiAgfSk7XG59KTtcbnBvcHVwUHJvZmlsZTEuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuLy9wb3B1cCBBdmF0YXJcbmNvbnN0IHBvcHVwQXZhdGFyUHJvZmlsZSA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICBcIiNwb3B1cC1hdmF0YXItcHJvZmlsZVwiLFxuICAoaW5wdXRzKSA9PiB7XG4gICAgYXBpLmVkaXRBdmF0YXJQcm9maWxlKGlucHV0cykudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhyZXN1bHQpO1xuICAgICAgcG9wdXBBdmF0YXJQcm9maWxlLmNsb3NlKCk7XG4gICAgfSk7XG4gIH1cbik7XG5wb3B1cEF2YXRhclByb2ZpbGUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuXG4vL3BvcHVwIGltYWdlXG5jb25zdCBwb3B1cFBpY3R1cmUgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIjcG9wdXAtaW1nXCIpO1xucG9wdXBQaWN0dXJlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vcG9wdXAgY29uZmlybWF0aW9uXG5jb25zdCBwb3B1cFdpdGhDb25maXJtYXRpb24gPSBuZXcgUG9wdXBXaXRoQ29uZmlybWF0aW9uKFxuICBcIiNwb3B1cC1kZWxldGUtY29uZmlybWF0aW9uXCIsXG4gIChjYXJkVG9EZWxldGUpID0+IHtcbiAgICBhcGkuZGVsZXRlQ2FyZChjYXJkVG9EZWxldGUpLnRoZW4oKCkgPT4ge1xuICAgICAgcG9wdXBXaXRoQ29uZmlybWF0aW9uLmNsb3NlKCk7XG4gICAgICBjb25zdCBjYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI2lkXyR7Y2FyZFRvRGVsZXRlfWApO1xuICAgICAgaWYgKGNhcmQpe1xuICAgICAgICBjYXJkLnJlbW92ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4pO1xucG9wdXBXaXRoQ29uZmlybWF0aW9uLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vIEV2ZW50bGlzdGVuZXIgb2YgZWRpdCBidXR0b25cbmJ0bkVkaXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgcG9wdXBQcm9maWxlMS5vcGVuKCk7XG4gIHBvcHVwUHJvZmlsZTEuZ2V0VXNlckluZm87XG4gIHZhbGlkYXRlRm9ybUNhcmQuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG59KTtcbi8vIEV2ZW50bGlzdGVuZXIgb2YgYXZhdGFyIGJ1dHRvblxuYXZhdGFyQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gIHBvcHVwQXZhdGFyUHJvZmlsZS5vcGVuKCk7XG59KTtcblxuLy8gRXZlbnRsaXN0ZW5lciBvZiBBZGQgYnV0dG9uXG5idG5BZGQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgcG9wdXBBZGRDYXJkLm9wZW4oKTtcbn0pO1xuXG5cbi8vVmFsaWRhdGlvbiBvZiBmb3Jtc1xuY29uc3QgdmFsaWRhdGVGb3JtQ2FyZCA9IG5ldyBGb3JtVmFsaWRhdG9yKGZvcm1FbGVtZW50cywge1xuICBmb3JtU2VsZWN0b3I6IFwiLnBvcHVwX19mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIucG9wdXBfX2J1dHRvblwiLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19idXR0b25fZGlzYWJsZWRcIixcbiAgaW5wdXRFcnJvckNsYXNzOiBcInBvcHVwX19pbnB1dF90eXBlX2Vycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwicG9wdXBfX2Vycm9yX3Zpc2libGVcIixcbn0pO1xuY29uc3QgdmFsaWRhdGVGb3JtUHJvZmlsZSA9IG5ldyBGb3JtVmFsaWRhdG9yKGZvcm1Qcm9maWxlLCB7XG4gIGZvcm1TZWxlY3RvcjogXCIucG9wdXBfX2Zvcm1cIixcbiAgaW5wdXRTZWxlY3RvcjogXCIucG9wdXBfX2lucHV0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5wb3B1cF9fYnV0dG9uXCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwicG9wdXBfX2J1dHRvbl9kaXNhYmxlZFwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0X3R5cGVfZXJyb3JcIixcbiAgZXJyb3JDbGFzczogXCJwb3B1cF9fZXJyb3JfdmlzaWJsZVwiLFxufSk7XG5jb25zdCBhdmF0YXJGb3JtVmFsaWRhdGlvbiA9IG5ldyBGb3JtVmFsaWRhdG9yKGZvcm1BdmF0YXIsIHtcbiAgZm9ybVNlbGVjdG9yOiBcIi5wb3B1cF9fZm9ybVwiLFxuICBpbnB1dFNlbGVjdG9yOiBcIi5wb3B1cF9faW5wdXRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19idXR0b25cIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJwb3B1cF9fYnV0dG9uX2Rpc2FibGVkXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJwb3B1cF9faW5wdXRfdHlwZV9lcnJvclwiLFxuICBlcnJvckNsYXNzOiBcInBvcHVwX19lcnJvcl92aXNpYmxlXCIsXG59KTtcbnZhbGlkYXRlRm9ybUNhcmQuZW5hYmxlVmFsaWRhdGlvbigpO1xudmFsaWRhdGVGb3JtUHJvZmlsZS5lbmFibGVWYWxpZGF0aW9uKCk7XG5hdmF0YXJGb3JtVmFsaWRhdGlvbi5lbmFibGVWYWxpZGF0aW9uKCk7Il0sIm5hbWVzIjpbIkFwaSIsIm9wdGlvbnMiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiYmFzZVVybCIsImhlYWRlcnMiLCJrZXkiLCJ2YWx1ZSIsImZldGNoIiwiY29uY2F0IiwibWV0aG9kIiwidGhlbiIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJkYXRhIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJuYW1lIiwicGxhY2UiLCJsaW5rIiwiY2FyZElkIiwiYWJvdXQiLCJhdmF0YXIiLCJhdmF0YXJMaW5rIiwiYnRuRWRpdCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JtUHJvZmlsZSIsImJ0bkFkZCIsImVsZW1lbnRBcmVhIiwiZm9ybUVsZW1lbnRzIiwiYXZhdGFyQnRuIiwiZm9ybUF2YXRhciIsIkNhcmQiLCJpdGVtIiwiaGFuZGxlQ2xpY2tDYXJkIiwidXNlcklkIiwiaGFuZGxlRGVsZXRlQ2FyZCIsImhhbmRsZUxpa2VDYXJkIiwiaGFuZGxlUmVtb3ZlTGlrZSIsIl9uYW1lIiwiX2xpbmsiLCJfaWQiLCJfbGlrZXMiLCJsaWtlcyIsIl9vd25lciIsIm93bmVyIiwiX3VzZXJJZCIsIl9jYXJkSWQiLCJfZWxlbWVudCIsIl9nZXRUZW1wbGF0ZSIsIl9oYW5kbGVDbGlja0NhcmQiLCJfaGFuZGxlRGVsZXRlQ2FyZCIsIl9oYW5kbGVMaWtlQ2FyZCIsIl9oYW5kbGVSZW1vdmVsaWtlIiwiY29udGVudCIsImNsb25lTm9kZSIsIl90aGlzIiwiX2VsZW1lbnRJbWFnZSIsIl9lbGVtZW50TmFtZSIsIl9saWtlQnRuIiwiX2RsdEJ0biIsIl9pbWdCdG4iLCJfZnVsbEltZyIsIl9mb290ZXJpbWciLCJzcmMiLCJ0ZXh0Q29udGVudCIsIl9wb3B1cEltZyIsInNvbWUiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJfbGlrZXNDb3VudGVyIiwibGVuZ3RoIiwiYWx0IiwiaWQiLCJuZXdBcnJheUxpa2VzIiwicmVtb3ZlIiwiaGFuZGxlQ2FyZENsaWNrIiwiX3RoaXMyIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNhcmRXaXRoTGlrZSIsIl9jaGFuZ2VMaWtlQ291bnRlciIsIl9zZXRQcm9wZXJ0aWVzIiwiX3NldExpc3RlbmVycyIsIkZvcm1WYWxpZGF0b3IiLCJmb3JtRWxlbWVudCIsInNldHRpbmdzIiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJidXR0b25FbGVtZW50IiwiaW5wdXRMaXN0IiwiQXJyYXkiLCJmcm9tIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiaW5wdXRFbGVtZW50IiwiZXJyb3JFbGVtZW50IiwiYWRkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwiX2hhc0ludmFsaWRJbnB1dCIsImRpc2FibGVkIiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJmb3JFYWNoIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIl9zZXRFdmVudExpc3RlbmVycyIsIlNlY3Rpb24iLCJfcmVmIiwiY2FyZENvbnRhaW5lciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfcmVuZGVyZWRJdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJlbGVtZW50IiwiYXBwZW5kIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiY2xvc2UiLCJfcG9wdXBTZWxlY3RvciIsInNldEV2ZW50TGlzdGVuZXJzIiwiX2hhbmRsZUVzY0Nsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIlBvcHVwV2l0aEZvcm0iLCJfUG9wdXAiLCJzZWxlY3RvciIsImhhbmRsZVN1Ym1pdCIsIl9jYWxsU3VwZXIiLCJfaGFuZGxlU3VibWl0IiwiX2Zvcm1lbGVtZW50IiwiX2luaGVyaXRzIiwiZm9ybSIsImlucHV0VmFsdWVzIiwiZWxlbWVudHMiLCJfc3VwZXJQcm9wR2V0IiwidG9nZ2xlVGV4dEJ1dHRvbiIsInRleHRCdXR0b24iLCJ0ZXh0dG9nZ2xlIiwidHJpbSIsImdldElucHV0VmFsdWVzIiwiUG9wdXBXaXRoSW1hZ2UiLCJiaW5kIiwiX3Nob3dJbWFnZSIsIl9zaG93U3VidGl0bGUiLCJVc2VySW5mbyIsIl90aXRsZSIsIl9hdmF0YXIiLCJ1c2VyQXZhdGFyIiwiUG9wdXBXaXRoQ29uZmlybWF0aW9uIiwiaGFuZGxlQ29uZmlybWF0aW9uIiwiX2hhbmRsZUNvbmZpcm1hdGlvbiIsIl9mb3JtRWxlbWVudCIsInVzZXJJbmZvIiwiYXBpIiwiYXV0aG9yaXphdGlvbiIsImdldFVzZXJJbmZvIiwicmVzdWx0Iiwic2V0VXNlckluZm8iLCJnZXRJbml0aWFsQ2FyZHMiLCJjYXJkTGlzdCIsImNhcmRFbGVtZW50IiwicG9wdXBQaWN0dXJlIiwicG9wdXBXaXRoQ29uZmlybWF0aW9uIiwib3BlbiIsImFkZExpa2UiLCJyZW1vdmVMaWtlIiwiZ2VuZXJhdGVDYXJkIiwiYWRkSXRlbSIsInJlbmRlckl0ZW1zIiwicG9wdXBBZGRDYXJkIiwiaW5wdXQiLCJhZGRjYXJkcyIsIm5ld0NhcmRFbGVtZW50IiwicHJlcGVuZCIsInBvcHVwUHJvZmlsZTEiLCJpbnB1dHMiLCJlZGl0UHJvZmlsZSIsInBvcHVwQXZhdGFyUHJvZmlsZSIsImVkaXRBdmF0YXJQcm9maWxlIiwiY2FyZFRvRGVsZXRlIiwiZGVsZXRlQ2FyZCIsImNhcmQiLCJ2YWxpZGF0ZUZvcm1DYXJkIiwiZW5hYmxlVmFsaWRhdGlvbiIsInZhbGlkYXRlRm9ybVByb2ZpbGUiLCJhdmF0YXJGb3JtVmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=